<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Chaotic Waterwheel with Planck</title>

  
  <meta name="description" content="A simulation of a chaotic waterwheel with the Planck JavaScript physics engine.">
  
  
  <meta name="keywords" content="complexity, javascript"/>
  
  
  <meta property="og:title" content="Chaotic Waterwheel with Planck">
  <meta property="og:type" content="note">
  <meta property="og:url" content="https://johnhearn.github.io//articles/simulate-chaotic-water-wheel-with-planck/">
  <meta property="og:image" content="https://johnhearn.github.io/">
  <meta property="og:description" content="A simulation of a chaotic waterwheel with the Planck JavaScript physics engine.">
  <meta property="og:site_name" content="John Hearn">
  
  <!-- Twitter cards -->
  <meta name="twitter:site"    content="@johnhearnbcn">
  <meta name="twitter:creator" content="@johnhearnbcn">
  <meta name="twitter:title"   content="Chaotic Waterwheel with Planck">

  
  <meta name="twitter:description" content="A simulation of a chaotic waterwheel with the Planck JavaScript physics engine.">
  

  
  <!-- end of Twitter cards -->

  <!-- Google Fonts loaded here depending on setting in _data/options.yml true loads font, blank does not-->
  
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
  
  <!-- Load up MathJax script if needed ... specify in /_data/options.yml file-->
  
      <script type="text/x-mathjax-config"> 
        MathJax.Ajax.config.path["Contrib"]="https://cdn.mathjax.org/mathjax/contrib"; 
        MathJax.Hub.Register.StartupHook("TeX Jax Ready",function (){MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{cancel: ["Extension","cancel"], bcancel: ["Extension","cancel"], xcancel: ["Extension","cancel"], cancelto: ["Extension","cancel"]});}); 
        MathJax.Hub.Config({tex2jax:{inlineMath: [['$','$'], ['\\(','\\)']], processEscapes: true}, TeX:{equationNumbers:{autoNumber: "AMS"}, extensions: ["[Contrib]/physics/physics.js","[Contrib]/siunitx/siunitx.js"]}});
      </script>
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  

  <link rel="stylesheet" type="text/css" href="/css/tufte.css">
  <!-- <link rel="stylesheet" type="text/css" href="/css/print.css" media="print"> -->

  <link rel="canonical" href="https://johnhearn.github.io//articles/simulate-chaotic-water-wheel-with-planck">

  <link rel="alternate" type="application/rss+xml" title="John Hearn" href="https://johnhearn.github.io//feed.xml" />
</head>

  <body>
    <!--- Header and nav template site-wide -->
<header>
  <nav class="group">
	  <a href="/">BLOG</a>
	  <a href="/notes.html">NOTES</a>
	  <a href="/about">ABOUT</a>
	</nav>
</header>
    <article class="group">
      <h1>Chaotic Waterwheel with Planck</h1>
<div class="subtitle">June 2, 2019</div>
<div class="smaller">1 minute.</div>

<blockquote>
  <p>(Update: Many thanks to <a href="https://github.com/shakiba">shakiba</a> for fixing this and adding it to the <a href="https://github.com/shakiba/planck.js">Plank.js</a> homepage as an example.)</p>
</blockquote>

<p><label for="malkus" class="margin-toggle">⊕</label><input type="checkbox" id="malkus" class="margin-toggle" /><span class="marginnote"><img class="fullwidth" src="/assets/images/complexity/malkus_wheel.gif" /><br />A schematic of the chaotic Malkus waterwheel discussed by Steven Strogatz in <a href="https://www.youtube.com/watch?v=HljJv7Hf6Zo">lecture 15</a> of his course.</span>
I’m just finishing <a href="https://twitter.com/stevenstrogatz?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor">Steven Strogatz</a>’s <a href="https://www.youtube.com/playlist?list=PLbN57C5Zdl6j_qJA-pARJnKsmROzPnO9V">Nonlinear Dynamics and Chaos</a> course and one of the systems he discusses is the chaotic Malkus water wheel. This is a real set up devised to mimic the famous <a href="https://en.wikipedia.org/wiki/Lorenz_system">Lorenz equations</a>.</p>

<blockquote>
  <p>“<em>In the 1960s… a real system was needed to demonstrate that chaos and the butterfly effect were realities and not mere mathematical artefacts… W.V.R. Malkus, a mathematician at MIT, realized that the Lorenz-Equations can be transformed into the equations of motion of a waterwheel. This waterwheel was built at MIT in the 1970s and helped to convince the sceptical physicists of the reality of chaos</em>” - taken from <a href="http://goodshare.org/wp/climate-bai/">here</a></p>
</blockquote>

<p>It consists of a stream of water feeding into multiple, leaky cups mounted on a rotating wheel. The weights of the cups containing water produce a chaotic behaviour causing the wheel to rotate in different directions unpredictably.
<label for="real" class="margin-toggle">⊕</label><input type="checkbox" id="real" class="margin-toggle" /><span class="marginnote"><img class="fullwidth" src="/assets/images/complexity/malkus_wheel.jpeg" /><br />A real construction of the wheel. <a href="https://www.youtube.com/watch?v=51FgNhrS6jg">Here</a>’s another one with a video.</span>
So today I thought I’d play with this idea and try to reproduce it in a 2D physics engine. I chose <a href="http://piqnt.com/planck.js/">Planck</a>, a JavaScript physics engine based on the Box2D implementation in C++.</p>

<p>It took a while to tune the size of the balls representing the water flow and the gaps in the cups which regulate the outflow. It’s far from perfect but it demonstrates the idea.</p>

<p>Anyway here’s the result.</p>

<pre>
<iframe width="400" height="400" src="https://johnhearn.github.io//assets/frames/chaos-wheel-planck.html">
&lt;/pre&gt;
</iframe></pre>


<div id="share-bar">

    <div class="share-buttons">
        Share this:
        <a  href="https://twitter.com/intent/tweet?text=Chaotic Waterwheel with Planck&url=https://johnhearn.github.io//articles/simulate-chaotic-water-wheel-with-planck"
            onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
            title="Share on Twitter" >
            <i class="fa-lg fab fa-twitter share-button"></i>
        </a>
        <a  href="https://www.linkedin.com/shareArticle?mini=true&url=https://johnhearn.github.io//articles/simulate-chaotic-water-wheel-with-planck&title=Chaotic Waterwheel with Planck&summary=A simulation of a chaotic waterwheel with the Planck JavaScript physics engine.&source=John Hearn"
            onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
            title="Share on LinkedIn" >
            <i class="fa-lg fab fa-linkedin share-button"></i>
        </a>
        <a  href="mailto:?subject=Chaotic Waterwheel with Planck&amp;body=Check out this site https://johnhearn.github.io//articles/simulate-chaotic-water-wheel-with-planck"
            title="Share via Email" >
            <i class="fa-lg fa fa-envelope-open share-button"></i>
        </a>
    </div>

</div>

    </article>
    <span class="print-footer">Chaotic Waterwheel with Planck - June 2, 2019 - John Hearn</span>
    <footer>
  <hr class="slender">
  <ul class="footer-links">
    <li>
        <a href="https://twitter.com/johnhearnbcn">
        <span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
        </span>
        </a>
    </li>
    <li>
        <a href="https://github.com/johnhearn">
        <span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fab fa-github fa-stack-1x fa-inverse"></i>
        </span>
        </a>
    </li>
    <li>
        <a href="https://www.linkedin.com/in/john-hearn-599762b">
        <span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
        </span>
        </a>
    </li>
    <li>
        <a href="mailto:hearn.john@gmail.com">
        <span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fa fa-envelope-open fa-stack-1x fa-inverse"></i>
        </span>
        </a>
    </li>
</ul>

<div class="credits">
<span>&copy; 2025 &nbsp;&nbsp;JOHN HEARN</span></br> <br>
<span>This site created with the <a href="//github.com/clayh53/tufte-jekyll">Tufte theme</a> for <a href="//jekyllrb.com">Jekyll</a>.</span> 
</div>  
</footer>
  </body>
</html>
